function SubmitNameTap(e){var t=ATD.CurrentGame.GameObjManager;var n=t.GetPlayer(e);ATD.CurrentGame.DrawLevelSelect()}function StartLevel(e,t){var n=t.GameObjManager;e.BuildLevel(n.WindowWidth,n.WindowHeight);if(e.LevelTiles.length>0){t.Backgrounds=n.GetBackgrounds(e);t.Enemies=n.GetLevel(e);t.PowerUps=n.GetLevel(e);t.DrawLevelStart(e);setTimeout(function(){ATD.MainLoopInterval=setInterval(function(){t.DrawLevel(e)}.bind(this),ATD.MilleInterval)}.bind(this),2e3)}else{t.DrawIndex()}}function supports_html5_storage(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(e){return false}}var ATD={};ATD.CurrentGame=null;ATD.MilleInterval=1/30;ATD.MainLoopInterval=null;ATD.Level=null;$(window).load(function(){if(supports_html5_storage()===true){var e=new Game;e.DrawIndex();ATD.CurrentGame=e;$("#game-field").bind("click",function(e){var t=ATD.CurrentGame;var n=t.ButtonClick(e.pageX,e.pageY);if(n!==false){switch(n.id){case"start":t.DrawPlayerSelect();break;case"credits":t.DrawCredits();break;case"creditLink":window.open(n.text,"_blank");break;case"submitName":var r=$("#name").val();if(r!==""){SubmitNameTap($("#name").val())}break;case"player":SubmitNameTap(n.name);break;case"music":t.ToggleButton(n);break;case"home":clearInterval(ATD.MainLoopInterval);ATD.MainLoopInterval=null;t.DrawIndex();break;case"nextLevel":StartLevel(n.level,t);break;case"lvlButton":if(n.locked===false){ATD.Level=n.level.LevelNumber;StartLevel(n.level,t)}break}}});$(document).keydown(function(e){e.preventDefault();switch(e.keyCode){case 17:case 32:ATD.CurrentGame.Shooting=true;break;case 39:ATD.CurrentGame.MoveLeft=true;break;case 37:ATD.CurrentGame.MoveRight=true;break;case 38:ATD.CurrentGame.MoveUp=true;break;case 40:ATD.CurrentGame.MoveDown=true;break}});$(document).keyup(function(e){e.preventDefault();switch(e.keyCode){case 17:case 32:ATD.CurrentGame.Shooting=false;break;case 39:ATD.CurrentGame.MoveLeft=false;break;case 37:ATD.CurrentGame.MoveRight=false;break;case 38:ATD.CurrentGame.MoveUp=false;break;case 40:ATD.CurrentGame.MoveDown=false;break}})}})